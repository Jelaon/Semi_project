<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
	
	<entry key = "sendMessage">
      INSERT INTO MESSAGE(MESSAGE_NO,
                     SENDER,
                     RECEIVER,
                     CONTENT
               				)
               VALUES (SEQ_MNO.NEXTVAL,
                     ?,
                     ?,
                     ?   
                     )
    </entry>
    
    <entry key="selectMessage">
    	SELECT NICK_NAME
    		  ,USER_NO
    	  FROM MEMBER 
    	 WHERE USER_NO IN 
    	 	( SELECT RECEIVER  AS MESSAGE_USER
 			    FROM MESSAGE
 				WHERE SENDER = ?
				UNION
			  SELECT SENDER AS MESSAGE_USER
 			  FROM MESSAGE
			  WHERE RECEIVER = ?)  
			 
    </entry>
    
    <entry key="getContents">
    	 SELECT *
    	   FROM MESSAGE
    	  WHERE SENDER IN(?,?)  
    	    AND RECEIVER IN(?,?)
    	  ORDER BY SEND_DATE DESC
    
    
    </entry>
    
    <entry key="sendMsgBoard">
    	INSERT INTO MESSAGE(MESSAGE_NO,
                     SENDER,
                     RECEIVER,
                     CONTENT
               				)
               VALUES (SEQ_MNO.NEXTVAL,
                     ?,
                     (SELECT USER_NO
                        FROM MEMBER
                        JOIN BOARD ON (WRITER = USER_NO)
                       WHERE BOARD_NO = ?),
                     ?   
                     )
    
    </entry>
	
	
</properties>